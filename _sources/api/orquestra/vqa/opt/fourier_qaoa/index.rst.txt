:py:mod:`orquestra.vqa.opt.fourier_qaoa`
========================================

.. py:module:: orquestra.vqa.opt.fourier_qaoa


Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   orquestra.vqa.opt.fourier_qaoa.FourierOptimizer



Functions
~~~~~~~~~

.. autoapisummary::

   orquestra.vqa.opt.fourier_qaoa.convert_u_v_to_gamma_beta



.. py:class:: FourierOptimizer(ansatz: orquestra.vqa.api.ansatz.Ansatz, inner_optimizer: orquestra.opt.api.optimizer.Optimizer, min_layer: int, max_layer: int, n_layers_per_iteration: int = 1, q: Optional[int] = None, R: int = 10, recorder: orquestra.opt.history.recorder.RecorderFactory = _recorder)

   Bases: :py:obj:`orquestra.opt.api.optimizer.NestedOptimizer`

   Optimizers that modify cost function throughout optimization.
   An example of such optimizer could be on that freezes certain
   parameters during every iteration or adds new layers of
   the underlying circuit (so called layer-by-layer optimization).

   See MockNestedOptimizer in orquestra.opt.mock_objects for an example.

   :param inner_optimizer: Optimizer object used in the inner optimization loop.
   :param recorder: recorder object which defines how to store the optimization history.

   :returns:

             - opt_value: optimal value of the objective function
             - opt_params: corresponding optimal parameters
             - nit: total number of iterations of inner_optimizer,
             - nfev: total number of calls to cost function,
             - history: a list of HistoryEntrys.
               If keep_history is False this should be an empty list.
             - gradient_history: if the cost function is a FunctionWithGradient,
               this should be a list of HistoryEntrys representing
               previous calls to the gradient.
   :rtype: An instance of OptimizeResult containing

   .. py:method:: inner_optimizer() -> orquestra.opt.api.optimizer.Optimizer
      :property:

      Inner optimizer used by this optimizer.


   .. py:method:: recorder() -> orquestra.opt.history.recorder.RecorderFactory
      :property:

      Factory for creating recorders of functions being minimized.



.. py:function:: convert_u_v_to_gamma_beta(n_layers: int, u_v: numpy.ndarray) -> numpy.ndarray

   Performs a "Discrete Sine/Cosine Transform" to convert u and v parameters into
   gamma and beta, as part of the FOURIER method for initializing QAOA parameters from
   https://arxiv.org/abs/1812.01041. See equation B2 of the original paper for how this
   is done.

   :param n layers is for size of output gamma/beta params.:
   :param u_v: parameters u and v in a 1d array with `u` ordered before `v`

   :returns: parameters gamma and beta in a 1d array of size `2 * n_layers`


