<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="prev" title="Ansatzes" href="ansatzes.html" />

    <link rel="shortcut icon" href="../../_static/favicon.ico"/><meta name="generator" content="sphinx-4.5.0, furo 2022.09.29"/>
        <title>Estimators - Orquestra Core Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Orquestra Core Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/orquestra.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Orquestra Core Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/beginner_tutorial.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/basic_qaoa.html">Solving MaxCut with QAOA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/orq_core_structure.html">Package Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/integrations.html">Integrations, Modules, and Libraries in Orquestra Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/contributing.html">Contributing to Orquestra Core</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../circuits.html">Circuits guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../circuit_runners.html">Circuit Runners guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cost_function.html">Cost function guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces.html">Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optimizers.html">Optimizers guide</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">VQA Guide</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="structure.html">Structure of VQAs</a></li>
<li class="toctree-l3"><a class="reference internal" href="ansatzes.html">Ansatzes</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Estimators</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/orquestra/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/orquestra/integrations/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/integrations/braket/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.braket</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/braket/conversions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.braket.conversions</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/braket/runner/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.braket.runner</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/braket/simulator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.braket.simulator</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/integrations/cirq/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.cirq</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/cirq/conversions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.cirq.conversions</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/cirq/decompositions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.cirq.decompositions</span></code></a></li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../api/orquestra/integrations/cirq/noise/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.cirq.noise</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../api/orquestra/integrations/cirq/noise/basic/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.cirq.noise.basic</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/cirq/simulator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.cirq.simulator</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/integrations/custatevec/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.custatevec</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/custatevec/simulator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.custatevec.simulator</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/integrations/forest/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.forest</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/forest/conversions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.forest.conversions</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/integrations/qiskit/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.qiskit</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/qiskit/conversions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.qiskit.conversions</span></code></a></li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../api/orquestra/integrations/qiskit/noise/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.qiskit.noise</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../api/orquestra/integrations/qiskit/noise/basic/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.qiskit.noise.basic</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/qiskit/runner/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.qiskit.runner</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/qiskit/simulator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.qiskit.simulator</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/integrations/qulacs/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.qulacs</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/qulacs/simulator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.qulacs.simulator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/integrations/qulacs/conversions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.integrations.qulacs.conversions</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/orquestra/opt/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/opt/api/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.api</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/api/bqm_solver/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.api.bqm_solver</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/api/bqm_solver_test/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.api.bqm_solver_test</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/api/cost_function/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.api.cost_function</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/api/example_functions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.api.example_functions</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/api/functions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.api.functions</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/api/optimizer/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.api.optimizer</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/api/optimizer_test/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.api.optimizer_test</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/api/problem/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.api.problem</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/api/save_conditions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.api.save_conditions</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/opt/bqm/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.bqm</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/bqm/conversions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.bqm.conversions</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/bqm/io/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.bqm.io</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/bqm/utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.bqm.utils</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/opt/history/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.history</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/history/recorder/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.history.recorder</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/opt/optimizers/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.optimizers</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/optimizers/basin_hopping/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.optimizers.basin_hopping</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/optimizers/cma_es_optimizer/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.optimizers.cma_es_optimizer</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/optimizers/qiskit_optimizer/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.optimizers.qiskit_optimizer</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/optimizers/scikit_quant_optimizer/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.optimizers.scikit_quant_optimizer</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/optimizers/scipy_optimizer/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.optimizers.scipy_optimizer</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/optimizers/search_points_optimizer/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.optimizers.search_points_optimizer</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/optimizers/simple_gradient_descent/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.optimizers.simple_gradient_descent</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/opt/problems/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.problems</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/problems/generators/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.problems.generators</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/problems/graph/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.problems.graph</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/problems/graph_partition/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.problems.graph_partition</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/problems/max_independent_set/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.problems.max_independent_set</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/problems/maxcut/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.problems.maxcut</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/opt/problems/vertex_cover/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.problems.vertex_cover</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/opt/convex/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.convex</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/opt/cost_function_augmentations/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.cost_function_augmentations</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/opt/gradients/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.gradients</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/opt/mock_objects/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.opt.mock_objects</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/orquestra/quantum/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/quantum/api/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.api</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/api/circuit_runner/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.api.circuit_runner</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/api/circuit_runner_contracts/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.api.circuit_runner_contracts</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/api/estimation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.api.estimation</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/api/estimator_contract/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.api.estimator_contract</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/api/wavefunction_simulator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.api.wavefunction_simulator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/api/wavefunction_simulator_contracts/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.api.wavefunction_simulator_contracts</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/quantum/circuits/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.circuits</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../api/orquestra/quantum/circuits/symbolic/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.circuits.symbolic</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../api/orquestra/quantum/circuits/symbolic/expressions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.circuits.symbolic.expressions</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/orquestra/quantum/circuits/symbolic/sympy_expressions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.circuits.symbolic.sympy_expressions</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../api/orquestra/quantum/circuits/symbolic/translations/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.circuits.symbolic.translations</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/circuits/layouts/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.circuits.layouts</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/quantum/decompositions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.decompositions</span></code></a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/quantum/distributions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.distributions</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/distributions/BAS_dataset/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.distributions.BAS_dataset</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/distributions/clipped_negative_log_likelihood/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.distributions.clipped_negative_log_likelihood</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/distributions/jensen_shannon_divergence/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.distributions.jensen_shannon_divergence</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/distributions/mmd/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.distributions.mmd</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/distributions/target_thermal_states/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.distributions.target_thermal_states</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/quantum/estimation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.estimation</span></code></a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/quantum/measurements/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.measurements</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/measurements/expectation_values/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.measurements.expectation_values</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/measurements/measurements/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.measurements.measurements</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/measurements/parities/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.measurements.parities</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/quantum/operators/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.operators</span></code></a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/quantum/runners/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.runners</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/runners/symbolic_simulator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.runners.symbolic_simulator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/runners/trackers/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.runners.trackers</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/quantum/testing/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.testing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/testing/generate_cases_for_backend_tests/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.testing.generate_cases_for_backend_tests</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/testing/mocks/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.testing.mocks</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/quantum/testing/test_cases_for_backend_tests/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.testing.test_cases_for_backend_tests</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/quantum/evolution/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.evolution</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/quantum/typing/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.typing</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/quantum/utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.utils</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/quantum/wavefunction/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.quantum.wavefunction</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/orquestra/vqa/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/vqa/algorithms/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.algorithms</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/algorithms/qaoa/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.algorithms.qaoa</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/algorithms/qcbm/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.algorithms.qcbm</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/algorithms/vqe/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.algorithms.vqe</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/vqa/ansatz/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.ansatz</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/ansatz/qcbm/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.ansatz.qcbm</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/ansatz/kbody/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.ansatz.kbody</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/ansatz/qaoa_farhi/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.ansatz.qaoa_farhi</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/ansatz/qaoa_warm_start/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.ansatz.qaoa_warm_start</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/ansatz/quantum_compiling/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.ansatz.quantum_compiling</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/ansatz/singlet_uccsd/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.ansatz.singlet_uccsd</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/vqa/api/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.api</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/api/ansatz/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.api.ansatz</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/api/ansatz_test/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.api.ansatz_test</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/api/ansatz_utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.api.ansatz_utils</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/vqa/cost_function/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.cost_function</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/cost_function/cost_function/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.cost_function.cost_function</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/cost_function/qcbm_cost_function/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.cost_function.qcbm_cost_function</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/vqa/estimation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.estimation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/estimation/context_selection/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.estimation.context_selection</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/estimation/cvar/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.estimation.cvar</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/estimation/gibbs_objective/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.estimation.gibbs_objective</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/vqa/grouping/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.grouping</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/vqa/openfermion/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.openfermion</span></code></a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/vqa/opt/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.opt</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/opt/fourier_qaoa/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.opt.fourier_qaoa</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/opt/layerwise_ansatz_optimizer/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.opt.layerwise_ansatz_optimizer</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/opt/recursive_qaoa/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.opt.recursive_qaoa</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/vqa/parameter_initialization/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.parameter_initialization</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/orquestra/vqa/shot_allocation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.shot_allocation</span></code></a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/orquestra/vqa/testing/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.testing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/orquestra/vqa/testing/mock_objects/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orquestra.vqa.testing.mock_objects</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="estimators">
<span id="estimators-guide"></span><h1>Estimators<a class="headerlink" href="#estimators" title="Permalink to this headline">#</a></h1>
<p>An important part of many quantum algorithms is estimating the expectation value of an observable <span class="math notranslate nohighlight">\(O\)</span> given the state <span class="math notranslate nohighlight">\(|\psi&gt;\)</span>: <span class="math notranslate nohighlight">\(&lt;\psi| O |\psi&gt;\)</span>. There are many methods to achieve this, which might vary depending on the circumstances.</p>
<p>In this guide, well show you the tools to achieve this within Orquestra Core.</p>
<div class="section" id="estimation-process">
<h2>Estimation process<a class="headerlink" href="#estimation-process" title="Permalink to this headline">#</a></h2>
<p>Lets look at the process of estimating expectation values as a black box. What can we say about it?
We know what the input should be:</p>
<ul class="simple">
<li><p>an observable</p></li>
<li><p>a quantum state</p></li>
</ul>
<p>And we know what the output should be:</p>
<ul class="simple">
<li><p>expectation value</p></li>
</ul>
<p>An observable is simple - it can be a Hamiltonian representing our system, consisting of multiple Pauli terms. Expectation value is also straightforward, as it is just a number.</p>
<p>Quantum state, however Well, this is a little bit more tricky, as we dont have access to the quantum state directly. The most common way of expressing a quantum state is to use a quantum circuit - if you think about it, a quantum circuit is nothing else, but a set of instructions of how to construct a quantum state.</p>
<p>So we have a circuit, now another thing we need is something to execute the circuit on - a quantum backend. This can be either a real quantum computer or a simulation.</p>
<p>Unfortunately, when you run your circuit on a quantum computer, you dont get a quantum state - you only get a collection of samples. The more samples (shots) you take, the better you will be able to estimate the expectation values (this is the reason why we are talking about estimating and not calculating expectation values.</p>
<p>Now we have all the components necessary for the estimation process:</p>
<ul class="simple">
<li><p>observable</p></li>
<li><p>circuit</p></li>
<li><p>number of shots</p></li>
<li><p>quantum backend</p></li>
</ul>
<p>Estimation itself is not specific for variational quantum algorithms. However, many estimation methods have been defined in the context of VQAs, so you can find some of them in <a class="reference external" href="https://github.com/zapatacomputing/orquestra-quantum">orquestra-quantum</a> and some in <a class="reference external" href="https://github.com/zapatacomputing/orquestra-vqa">orquestra-vqa</a>.</p>
</div>
<div class="section" id="extra-steps">
<h2>Extra steps<a class="headerlink" href="#extra-steps" title="Permalink to this headline">#</a></h2>
<p>You have all the elements needed to perform estimation, that we just listed above. Unfortunately, this might not be enough to perform the estimation efficiently and there are some extra steps which will ensure that things go smoothly. Here Ill briefly describe three such steps. If you are unfamiliar with these concepts, you can find context selection described in <a class="reference external" href="https://www.mustythoughts.com/variational-quantum-eigensolver-explained">this blogpost about VQE</a> and shot allocation and grouping in <a class="reference external" href="https://www.mustythoughts.com/vqe-challenges.html">this one</a>.</p>
<p>First, context selection, which is a standard step in VQE. You can only perform measurements in the Z-basis, but your observable might contain terms which require a different basis. In such case, you need to change the basis - you can achieve this by appending an appropriate rotation at the end of your circuits. This is what context selection does.</p>
<p>Second, shot allocation. If your Hamiltonian have multiple terms, but you have just a limited number of samples you can take, how do you decide how to distribute them across terms? Thats what shot allocation does.</p>
<p>Third, grouping. Instead of running a separate circuit for every term, you might be able to group some of them to get the optimal performance.</p>
<p>Lets look at the software that we built to accomodate all these!</p>
</div>
<div class="section" id="estimation-in-orquestra">
<h2>Estimation in Orquestra<a class="headerlink" href="#estimation-in-orquestra" title="Permalink to this headline">#</a></h2>
<p>As you can see there are many moving parts in the whole estimation process. Here well go through how they are all implemented in software.</p>
<div class="section" id="data-structures">
<h3>Data structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">#</a></h3>
<p>There are two main data structures we use here. The first is <code class="docutils literal notranslate"><span class="pre">EstimationTask</span></code>. Its an object which encapsulates all the data needed to perform estimation:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">operator</span></code>: a   <a class="reference internal" href="../../api/orquestra/quantum/operators/index.html#orquestra.quantum.operators.PauliSum" title="orquestra.quantum.operators.PauliSum"><code class="xref py py-class docutils literal notranslate"><span class="pre">PauliSum</span></code></a> which represents the observable</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">circuit</span></code>: a <a class="reference internal" href="../../api/orquestra/quantum/circuits/index.html#orquestra.quantum.circuits.Circuit" title="orquestra.quantum.circuits.Circuit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Circuit</span></code></a> object which allow us to get a quantum state</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">number_of_shots</span></code>: <code class="docutils literal notranslate"><span class="pre">int</span></code> which specifies how many shots we make.</p></li>
</ul>
<p>Another one is <a class="reference internal" href="../../api/orquestra/quantum/measurements/index.html#orquestra.quantum.measurements.ExpectationValues" title="orquestra.quantum.measurements.ExpectationValues"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExpectationValues</span></code></a>. Apart from storing the values themselves, if particular estimation method calculates correlations or covariances, it can also store them.</p>
</div>
<div class="section" id="estimation-method">
<h3>Estimation method<a class="headerlink" href="#estimation-method" title="Permalink to this headline">#</a></h3>
<p>Once we have our <a class="reference internal" href="../../api/orquestra/quantum/api/estimation/index.html#orquestra.quantum.api.estimation.EstimationTask" title="orquestra.quantum.api.estimation.EstimationTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">EstimationTask</span></code></a> defined, we can think about what algorithm for estimation to use. These algorithms are expressed using <a class="reference internal" href="../../api/orquestra/quantum/api/estimation/index.html#orquestra.quantum.api.estimation.EstimateExpectationValues" title="orquestra.quantum.api.estimation.EstimateExpectationValues"><code class="xref py py-class docutils literal notranslate"><span class="pre">EstimateExpectationValues</span></code></a> interface. It is implemented as Python Protocol (you can read more about it in <span class="xref std std-ref">interfaces guide</span>) and its fairly simple:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">EstimateExpectationValues</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">backend</span><span class="p">:</span> <span class="n">BaseCircuitRunner</span><span class="p">,</span> <span class="n">estimation_tasks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">EstimationTask</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ExpectationValues</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Estimate expectation values using given backend.&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Lets say you have created a new estimator called <code class="docutils literal notranslate"><span class="pre">my_estimator</span></code>. In order to use it, you need to call it and provide a backend and a list of estimation_tasks. However, the definition you see above is not enough to make sure all the estimators work reliably. All the implementations of this protocol should also meet the following criteria (which we enforce by a set of contract tests):</p>
<ol class="arabic simple">
<li><p>Return one ExpectationValue for each EstimationTask.</p></li>
<li><p>The order in which ExpectationValues are returned should match the order in which EstimationTasks were provided.</p></li>
<li><p>Number of entries in each ExpectationValue is not restricted - if the operator consists of multiple terms, estimator might be contain values for each term.</p></li>
<li><p>Output ExpectationValue should include coefficients of the terms/operators.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">estimation_tasks</span></code> can include tasks where operator consists of a constant term or contains a constant term. The implemented method should include the contributions of such constant terms in the return value.</p></li>
</ol>
<p>We hope points 1-3 are not controversial for you. Points 4-5 define a conventions that we have decided to follow - we know that in some circles people like using other conventions, which might be confusing. So we want to be clear about the conventions that we follow.</p>
<p><code class="docutils literal notranslate"><span class="pre">orquestra</span></code> provides several separate ways of obtaining expectation values:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../api/orquestra/quantum/estimation/index.html#orquestra.quantum.estimation.calculate_exact_expectation_values" title="orquestra.quantum.estimation.calculate_exact_expectation_values"><code class="xref py py-func docutils literal notranslate"><span class="pre">calculate_exact_expectation_values</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/orquestra/quantum/estimation/index.html#orquestra.quantum.estimation.estimate_expectation_values_by_averaging" title="orquestra.quantum.estimation.estimate_expectation_values_by_averaging"><code class="xref py py-func docutils literal notranslate"><span class="pre">estimate_expectation_values_by_averaging</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/orquestra/vqa/estimation/cvar/index.html#orquestra.vqa.estimation.cvar.CvarEstimator" title="orquestra.vqa.estimation.cvar.CvarEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">CvarEstimator</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/orquestra/vqa/estimation/gibbs_objective/index.html#orquestra.vqa.estimation.gibbs_objective.GibbsObjectiveEstimator" title="orquestra.vqa.estimation.gibbs_objective.GibbsObjectiveEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">GibbsObjectiveEstimator</span></code></a></p></li>
</ul>
</div>
<div class="section" id="preprocessors">
<h3>Preprocessors<a class="headerlink" href="#preprocessors" title="Permalink to this headline">#</a></h3>
<p>We have also introduced a concept of <a class="reference internal" href="../../api/orquestra/quantum/api/estimation/index.html#orquestra.quantum.api.estimation.EstimationPreprocessor" title="orquestra.quantum.api.estimation.EstimationPreprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">EstimationPreprocessor</span></code></a>. EstimationPreprocessors is a function which takes in a list of estimation tasks and returns a new list of estimation tasks. Its a simple abstraction, but allows to express some of those extra steps that we described later. For example, if we want to perform grouping, we will provide a list containing one estimation task with a big operator and then get back multiple tasks each with an operator representing one group.</p>
<p>In Orquestra Core we have implemented the following preprocessors:</p>
<ul class="simple">
<li><dl class="simple">
<dt>shot allocation:</dt><dd><ul>
<li><p><a class="reference internal" href="../../api/orquestra/vqa/shot_allocation/index.html#orquestra.vqa.shot_allocation.allocate_shots_proportionally" title="orquestra.vqa.shot_allocation.allocate_shots_proportionally"><code class="xref py py-func docutils literal notranslate"><span class="pre">allocate_shots_proportionally</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/orquestra/vqa/shot_allocation/index.html#orquestra.vqa.shot_allocation.allocate_shots_uniformly" title="orquestra.vqa.shot_allocation.allocate_shots_uniformly"><code class="xref py py-func docutils literal notranslate"><span class="pre">allocate_shots_uniformly</span></code></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>grouping:</dt><dd><ul>
<li><p><a class="reference internal" href="../../api/orquestra/vqa/grouping/index.html#orquestra.vqa.grouping.group_individually" title="orquestra.vqa.grouping.group_individually"><code class="xref py py-func docutils literal notranslate"><span class="pre">group_individually</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/orquestra/vqa/grouping/index.html#orquestra.vqa.grouping.group_greedily" title="orquestra.vqa.grouping.group_greedily"><code class="xref py py-func docutils literal notranslate"><span class="pre">group_greedily</span></code></a></p></li>
<li><p><a class="reference internal" href="../../api/orquestra/vqa/grouping/index.html#orquestra.vqa.grouping.group_comeasureable_terms_greedy" title="orquestra.vqa.grouping.group_comeasureable_terms_greedy"><code class="xref py py-func docutils literal notranslate"><span class="pre">group_comeasureable_terms_greedy</span></code></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="../../api/orquestra/vqa/estimation/context_selection/index.html#orquestra.vqa.estimation.context_selection.perform_context_selection" title="orquestra.vqa.estimation.context_selection.perform_context_selection"><code class="xref py py-func docutils literal notranslate"><span class="pre">perform_context_selection</span></code></a></p></li>
</ul>
<p>If you look closely, you might notice that some of these methods do not actually follow the preprocessor interface. Lets take a look at <cite>allocate_shots_proportionally</cite>. It takes two things as input - list of estimation tasks and total number of shots. So why do we say its kindof a preprocessor? Cause its easy to make it into a preprocessor using <cite>partial</cite>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="kn">from</span> <span class="nn">orquestra.vqa.shot_allocation</span> <span class="kn">import</span> <span class="n">allocate_shots_proportionally</span>
</pre></div>
</div>
</div>
<div class="section" id="utility-functions">
<h3>Utility functions<a class="headerlink" href="#utility-functions" title="Permalink to this headline">#</a></h3>
<p>We have also created a couple of methods which make working with estimators easier, heres a brief overview:</p>
<p>Lets start with factories of estimation tasks. What is a factory? Factory is a method which creates some objects according to a particular recipe, given the inputs. Its useful when you dont know ahead of time exactly what the parameters of your object should be. In case of variational algorithms we cant create circuits ahead, as we dont know what their parameters will be - they are updated on the fly. If we dont know what the circuis are, we also cant create our estimation tasks. But we can create an object (factory), which will generate those estimation tasks. This all happens inside the cost function and fortunately you dont have worry too much about how exactly. Two most important factories are <a class="reference internal" href="../../api/orquestra/vqa/cost_function/cost_function/index.html#orquestra.vqa.cost_function.cost_function.substitution_based_estimation_tasks_factory" title="orquestra.vqa.cost_function.cost_function.substitution_based_estimation_tasks_factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">substitution_based_estimation_tasks_factory</span></code></a> and <a class="reference internal" href="../../api/orquestra/vqa/cost_function/cost_function/index.html#orquestra.vqa.cost_function.cost_function.dynamic_circuit_estimation_tasks_factory" title="orquestra.vqa.cost_function.cost_function.dynamic_circuit_estimation_tasks_factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">dynamic_circuit_estimation_tasks_factory</span></code></a>. The main difference between them is that the first one creates a circuit once and then just subtitutes symbols with parameters, while the other one creates circuits on the fly.</p>
<p>Some other tools:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../api/orquestra/quantum/estimation/index.html#orquestra.quantum.estimation.evaluate_estimation_circuits" title="orquestra.quantum.estimation.evaluate_estimation_circuits"><code class="xref py py-func docutils literal notranslate"><span class="pre">evaluate_estimation_circuits</span></code></a> - substitutes symbols with numerical parameters for all the circuits in the estimation tasks</p></li>
<li><p><a class="reference internal" href="../../api/orquestra/quantum/estimation/index.html#orquestra.quantum.estimation.split_estimation_tasks_to_measure" title="orquestra.quantum.estimation.split_estimation_tasks_to_measure"><code class="xref py py-func docutils literal notranslate"><span class="pre">split_estimation_tasks_to_measure</span></code></a> - this function splits a given list of EstimationTask into two: one that contains EstimationTasks that should be measured, and one that contains EstimationTasks with constants or with 0 shots.</p></li>
<li><p><a class="reference internal" href="../../api/orquestra/quantum/estimation/index.html#orquestra.quantum.estimation.evaluate_non_measured_estimation_tasks" title="orquestra.quantum.estimation.evaluate_non_measured_estimation_tasks"><code class="xref py py-func docutils literal notranslate"><span class="pre">evaluate_non_measured_estimation_tasks</span></code></a> - this returns the expectation value for the tasks which dont need to be measured</p></li>
</ul>
</div>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">#</a></h2>
<p>Lets see how this plays out in an actual example. For example, lets say we want to run VQE using the following techniques:
- greedy grouping algorithm
- proportional shot allocation with total 50000 shots per iteration
- CVaR estimation method with alpha equal to 0.1</p>
<p>Heres a snippet of code which shows how to do this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">orquestra.vqa.shot_allocation</span> <span class="kn">import</span> <span class="n">allocate_shots_proportionally</span>

<span class="c1"># We define all the other components necessary to define the cost function</span>
<span class="n">hamiltonian</span> <span class="o">=</span> <span class="n">PauliSum</span><span class="p">(</span><span class="s2">&quot;Z0*X1*Z2 + Z0*Z2*Y3 + X3&quot;</span><span class="p">)</span>
<span class="n">backend</span> <span class="o">=</span> <span class="n">QulacsSimulator</span><span class="p">()</span>
<span class="n">ansatz</span> <span class="o">=</span> <span class="n">HEAQuantumCompilingAnsatz</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">hamiltonian</span><span class="o">.</span><span class="n">n_qubits</span><span class="p">)</span>

<span class="c1"># And now we get to estimation methods</span>
<span class="n">estimation_method</span> <span class="o">=</span> <span class="n">CvarEstimator</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">shot_allocation</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">allocate_shots_proportionally</span><span class="p">,</span> <span class="n">total_n_shots</span><span class="o">=</span><span class="mi">50000</span><span class="p">)</span>

<span class="c1"># Order matters - context selection needs to happen after the grouping!</span>
<span class="n">estimation_preprocessors</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">group_greedily</span><span class="p">,</span>
    <span class="n">perform_context_selection</span><span class="p">,</span>  <span class="c1"># This is required for VQE measurements to be done in the right way</span>
    <span class="n">shot_allocation</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">estimation_task_factory</span> <span class="o">=</span> <span class="n">substitution_based_estimation_tasks_factory</span><span class="p">(</span>
    <span class="n">hamiltonian</span><span class="p">,</span> <span class="n">ansatz</span><span class="p">,</span> <span class="n">estimation_preprocessors</span>
<span class="p">)</span>

<span class="c1"># And here is finally the cost function we will be minimizing</span>
<span class="n">cost_function</span> <span class="o">=</span> <span class="n">create_cost_function</span><span class="p">(</span>
    <span class="n">backend</span><span class="p">,</span> <span class="n">estimation_task_factory</span><span class="p">,</span> <span class="n">estimation_method</span>
</pre></div>
</div>
<p>And if you would like to run and play with this code, here is the whole script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">orquestra.integrations.qulacs.simulator</span> <span class="kn">import</span> <span class="n">QulacsSimulator</span>
<span class="kn">from</span> <span class="nn">orquestra.opt.optimizers</span> <span class="kn">import</span> <span class="n">ScipyOptimizer</span>
<span class="kn">from</span> <span class="nn">orquestra.quantum.operators</span> <span class="kn">import</span> <span class="n">PauliSum</span>
<span class="kn">from</span> <span class="nn">orquestra.vqa.ansatz.quantum_compiling</span> <span class="kn">import</span> <span class="n">HEAQuantumCompilingAnsatz</span>
<span class="kn">from</span> <span class="nn">orquestra.vqa.cost_function.cost_function</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">create_cost_function</span><span class="p">,</span>
    <span class="n">substitution_based_estimation_tasks_factory</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">orquestra.vqa.estimation.context_selection</span> <span class="kn">import</span> <span class="n">perform_context_selection</span>
<span class="kn">from</span> <span class="nn">orquestra.vqa.estimation.cvar</span> <span class="kn">import</span> <span class="n">CvarEstimator</span>
<span class="kn">from</span> <span class="nn">orquestra.vqa.grouping</span> <span class="kn">import</span> <span class="n">group_greedily</span>
<span class="kn">from</span> <span class="nn">orquestra.vqa.shot_allocation</span> <span class="kn">import</span> <span class="n">allocate_shots_proportionally</span>

<span class="c1"># We define all the other components necessary to define the cost function</span>
<span class="n">hamiltonian</span> <span class="o">=</span> <span class="n">PauliSum</span><span class="p">(</span><span class="s2">&quot;Z0*X1*Z2 + Z0*Z2*Y3 + X3&quot;</span><span class="p">)</span>
<span class="n">backend</span> <span class="o">=</span> <span class="n">QulacsSimulator</span><span class="p">()</span>
<span class="n">ansatz</span> <span class="o">=</span> <span class="n">HEAQuantumCompilingAnsatz</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">hamiltonian</span><span class="o">.</span><span class="n">n_qubits</span><span class="p">)</span>

<span class="c1"># And now we get to estimation methods</span>
<span class="n">estimation_method</span> <span class="o">=</span> <span class="n">CvarEstimator</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">shot_allocation</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">allocate_shots_proportionally</span><span class="p">,</span> <span class="n">total_n_shots</span><span class="o">=</span><span class="mi">50000</span><span class="p">)</span>

<span class="c1"># Order matters - context selection needs to happen after the grouping!</span>
<span class="n">estimation_preprocessors</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">group_greedily</span><span class="p">,</span>
    <span class="n">perform_context_selection</span><span class="p">,</span>  <span class="c1"># This is required for VQE measurements to be done in the right way</span>
    <span class="n">shot_allocation</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">estimation_task_factory</span> <span class="o">=</span> <span class="n">substitution_based_estimation_tasks_factory</span><span class="p">(</span>
    <span class="n">hamiltonian</span><span class="p">,</span> <span class="n">ansatz</span><span class="p">,</span> <span class="n">estimation_preprocessors</span>
<span class="p">)</span>

<span class="c1"># And here is finally the cost function we will be minimizing</span>
<span class="n">cost_function</span> <span class="o">=</span> <span class="n">create_cost_function</span><span class="p">(</span>
    <span class="n">backend</span><span class="p">,</span> <span class="n">estimation_task_factory</span><span class="p">,</span> <span class="n">estimation_method</span>
<span class="p">)</span>

<span class="n">optimizer</span> <span class="o">=</span> <span class="n">ScipyOptimizer</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;COBYLA&quot;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;maxiter&quot;</span><span class="p">:</span> <span class="mi">250</span><span class="p">})</span>
<span class="n">initial_params</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">ansatz</span><span class="o">.</span><span class="n">number_of_params</span><span class="p">)</span>
<span class="n">opt_results</span> <span class="o">=</span> <span class="n">optimizer</span><span class="o">.</span><span class="n">minimize</span><span class="p">(</span><span class="n">cost_function</span><span class="o">.</span><span class="n">function</span><span class="p">,</span> <span class="n">initial_params</span><span class="p">)</span>
<span class="c1"># &gt;&gt; End</span>
</pre></div>
</div>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="ansatzes.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Ansatzes</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Zapata Computing, Inc
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Estimators</a><ul>
<li><a class="reference internal" href="#estimation-process">Estimation process</a></li>
<li><a class="reference internal" href="#extra-steps">Extra steps</a></li>
<li><a class="reference internal" href="#estimation-in-orquestra">Estimation in Orquestra</a><ul>
<li><a class="reference internal" href="#data-structures">Data structures</a></li>
<li><a class="reference internal" href="#estimation-method">Estimation method</a></li>
<li><a class="reference internal" href="#preprocessors">Preprocessors</a></li>
<li><a class="reference internal" href="#utility-functions">Utility functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>